# 42 Labs + Bosch

## BEN Team

The project is a PoC about receiving energy data and feeding an api using data stream. And a second API consuming data from first API and store in DB.

## Summary

- [About the project](#about-the-project)
- [How to use](#how-to-use)
	- [Prerequisits](#prerequisits)
	- [API 1](#api-1)
	- [API 2](#api-2)
- [École 42](#école-42)
	- [42 SP](#42-sp)
	- [Labs](#labs)
- [42 Bosch BEN Team](#42--bosch-ben-team)
- [References](#references)

## About the Project

This project consists on creating a 2 scenarios (Docker) where a first is a service (Python) generates random data to a Kafka datastream, consumed by a consumer service (.NET) and stored in a database (MS SQL Server). An API (.NET) consumes this data from the database and exposes it.

The second scenario contain an API (Python) that consumes from first API and store data in database (MS SQL Server)

## How to use

In order to run this project, follow the instructions bellow.

### Prerequisits

- Docker (Linux) or Docker Desktop (Windows or MacOS). https://docker.com

### API 1

1. Copy the repository to your computer.

	```bash
	git clone https://github.com/42-bosch/ben_first_challenge.git
	```

2. Enter the directory of the project, then create a `.env` file at the root of the project, just like the following sample:

	```bash
	DB1_ACCEPT_EULA=Y
	DB1_MSSQL_USER=SA
	DB1_MSSQL_SA_PASSWORD=<Enter your password here (*)>
	DB1_MSSQL_PID=Developer
	KAFKA_HOST=localhost:9092
	DOCKER_DB1_MSSQL_HOST=sqlserver1
	```
	(*) The password must have at least 8 characters, which may contain at least: a digit, an upper and lowercase, a special character.

3. Run the command below and wait the containers to be build and up.
	```bash
	docker-compose up --build
	```

4. Access http://localhost:5002/api/energy_data to check for the data saved by the database, which is generated by API1.

### API 2

1. Enter the `api2` folder and create a `.env` file in it containing the follow arguments:

	```bash
	DB2_ACCEPT_EULA=Y
	DB2_MSSQL_USER=SA
	DB2_MSSQL_SA_PASSWORD=<Enter your password here (*)>
	DB2_MSSQL_PID=Developer
	DOCKER_DB2_MSSQL_HOST=sqlserver2
	```
	(*) The password must have at least 8 characters, which may contain at least: a digit, an upper and lowercase, a special character.

2. Run the command below and wait the containers to be build and up.
	```bash
	docker-compose up --build
	```

3. Access http://localhost:8000 to check for the data saved by API2 on second database.

4. Access http://localhost:8000/save_from_api1 to consume data from API1 and store it in second database.

## École 42

École 42 is a coding school in Paris, France, founded by Xavier Niel in 2013. It has a unique approach to education, with no tuition fees and no formal prerequisites for admission. The curriculum emphasizes project-based learning and peer collaboration. Students work on coding challenges and projects at their own pace, fostering a self-directed learning environment. École 42 has gained global recognition and has inspired similar coding schools in other countries.

### 42 SP

42 São Paulo is part of 42 Network and is located in São Paulo, at Vila Madalena neighborhood, since 2019. https://42sp.org.br

### Labs

42 Labs is a partnership between 42 SP and companies, functioning similarly to an internship. It provides Cadets (students from 42) with the opportunity to tackle real-life projects and challenges, receiving guidance and mentoring from experts within the partnering companies.

## 42 Labs + Bosch - BEN Project Team

<a href="https://github.com/42-bosch/ben_first_challenge/graphs/contributors">
  <img src="https://contrib.rocks/image?repo=42-bosch/ben_first_challenge" />
</a>

Made with [contrib.rocks](https://contrib.rocks).

## References

<details>
<summary>Links</summary>

- https://learn.microsoft.com/en-us/sql/linux/quickstart-install-connect-docker?view=sql-server-ver16&pivots=cs1-bash
- https://learn.microsoft.com/en-us/sql/linux/sql-server-linux-configure-environment-variables?view=sql-server-linux-ver16
- https://docs.docker.com/compose/environment-variables/set-environment-variables/
- https://hub.docker.com/_/microsoft-mssql-server
- https://www.macoratti.net/21/04/docker_sqlasp1.htm
- https://docs.docker.com/compose/compose-file/compose-file-v3/
- https://docs.docker.com/compose/compose-file/compose-file-v3/
- https://github.com/github/gitignore/tree/main/community/DotNet
- https://learn.microsoft.com/en-us/aspnet/core/host-and-deploy/docker/building-net-docker-images?view=aspnetcore-6.0
- https://nickjanetakis.com/blog/setting-up-docker-for-windows-and-wsl-to-work-flawlessly#ensure-volume-mounts-work
- https://learn.microsoft.com/pt-br/windows/wsl/tutorials/wsl-containers
- https://andrewlock.net/why-isnt-my-aspnetcore-app-in-docker-working/
- https://learn.microsoft.com/en-us/aspnet/web-api/
- https://learn.microsoft.com/pt-br/aspnet/core/tutorials/first-web-api?WT.mc_id=dotnet-35129-website&view=aspnetcore-6.0&tabs=visual-studio-code
- https://medium.com/netcoders/c%C3%B3digos-mais-homog%C3%AAneos-com-stylecop-aa5dbc411850
- https://learn.microsoft.com/pt-br/archive/msdn-magazine/2013/october/alm-rangers-implementing-static-code-analysis-with-stylecop
- https://learn.microsoft.com/en-us/ef/core/
- https://www.entityframeworktutorial.net/efcore/entity-framework-core-console-application.aspx
- https://jasonwatmore.com/post/2022/03/18/net-6-connect-to-sql-server-with-entity-framework-core
- https://learn.microsoft.com/en-us/sql/t-sql/data-types/int-bigint-smallint-and-tinyint-transact-sql?view=sql-server-ver16
- https://docs.python.org/3/library/uuid.html
- https://www.youtube.com/watch?v=VHngQ-moXIE
- https://www.sqlalchemy.org/
- https://learn.microsoft.com/en-us/ef/ef6/modeling/code-first/fluent/types-and-properties
- https://github.com/gordthompson/fastapi-tutorial-mssql/blob/master/sql_app/database.py
- https://github.com/tiangolo/full-stack-fastapi-postgresql
- https://www.dataquest.io/blog/python-api-tutorial/
- https://fastapi.tiangolo.com/deployment/docker/
- https://fastapi.tiangolo.com/
- https://www.learmoreseekmore.com/2022/02/dotnet6-unit-testing-aspnetcore-web-api-using-xunit.html

</details>
