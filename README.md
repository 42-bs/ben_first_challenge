# Bosch + 42 Labs

## BEN Team

The project is a PoC about receiving energy data and feeding an api using data stream.

## Summary

- [About the project](#about-the-project)
- [How to use](#how-to-use)
- [References](#references)

## About the Project

This project consists on creating a scenario (Docker) where a service (Python) generates random data to a Kafka datastream, consumed by a consumer service (.NET) and stored in a database (MS SQL Server). An api (.NET) consumes this data from the database and exposes it.

## How to use

In order to run this project, follow the instructions bellow.

1. Copy the repository to your computer.

	```bash
	git clone https://github.com/42-bosch/ben_first_challenge.git
	```

2. Enter the directory of the project, then create a `.env` file at the root of the project, just like the following sample:

	```bash
	DB1_ACCEPT_EULA=Y
	DB1_MSSQL_USER=SA
	DB1_MSSQL_SA_PASSWORD=<Enter your password here (*)>
	DB1_MSSQL_PID=Developer
	KAFKA_HOST=localhost:9092
	DOCKER_DB1_MSSQL_HOST=sqlserver1
	```
	(*) The password must have at least 8 characters, which may contain at least: a digit, an upper and lowercase, a special character.

3. Run the command below and wait the containers to be build and up.
	```bash
	docker-compose up --build
	```

4. Access http://localhost:5002/api/energy_data to check for the data saved by the database, which is generated by API1.

## References

<details>
<summary>Links</summary>

- https://learn.microsoft.com/en-us/sql/linux/quickstart-install-connect-docker?view=sql-server-ver16&pivots=cs1-bash
- https://learn.microsoft.com/en-us/sql/linux/sql-server-linux-configure-environment-variables?view=sql-server-linux-ver16
- https://docs.docker.com/compose/environment-variables/set-environment-variables/
- https://hub.docker.com/_/microsoft-mssql-server
- https://www.macoratti.net/21/04/docker_sqlasp1.htm
- https://docs.docker.com/compose/compose-file/compose-file-v3/
- https://docs.docker.com/compose/compose-file/compose-file-v3/
- https://github.com/github/gitignore/tree/main/community/DotNet
- https://learn.microsoft.com/en-us/aspnet/core/host-and-deploy/docker/building-net-docker-images?view=aspnetcore-6.0
- https://nickjanetakis.com/blog/setting-up-docker-for-windows-and-wsl-to-work-flawlessly#ensure-volume-mounts-work
- https://learn.microsoft.com/pt-br/windows/wsl/tutorials/wsl-containers
- https://andrewlock.net/why-isnt-my-aspnetcore-app-in-docker-working/
- https://learn.microsoft.com/en-us/aspnet/web-api/
- https://learn.microsoft.com/pt-br/aspnet/core/tutorials/first-web-api?WT.mc_id=dotnet-35129-website&view=aspnetcore-6.0&tabs=visual-studio-code
- https://medium.com/netcoders/c%C3%B3digos-mais-homog%C3%AAneos-com-stylecop-aa5dbc411850
- https://learn.microsoft.com/pt-br/archive/msdn-magazine/2013/october/alm-rangers-implementing-static-code-analysis-with-stylecop
- https://learn.microsoft.com/en-us/ef/core/
- https://www.entityframeworktutorial.net/efcore/entity-framework-core-console-application.aspx
- https://jasonwatmore.com/post/2022/03/18/net-6-connect-to-sql-server-with-entity-framework-core
- https://learn.microsoft.com/en-us/sql/t-sql/data-types/int-bigint-smallint-and-tinyint-transact-sql?view=sql-server-ver16
- https://docs.python.org/3/library/uuid.html
- https://www.youtube.com/watch?v=VHngQ-moXIE

</details>
